{% extends "base.html" %}

{% block header_left %}
<a href="/"
   class="absolute left-4 top-4 z-20 text-sm font-semibold text-white bg-black/30 backdrop-blur px-3 py-1 rounded-full hover:bg-black/50 transition">
    ‚Üê <span data-i18n="back">Back</span>
</a>
{% endblock %}

{% block content %}
<section class="bg-white rounded-3xl shadow-xl p-6 max-w-xl mx-auto">
    <div class="text-center mb-6">
        <h2 class="text-3xl font-extrabold mb-1">
            <span class="text-green-600" data-i18n="playground_heading">PLAYGROUND</span>
        </h2>
        <p class="text-xl font-semibold text-red-500" data-i18n="playground_subtitle">Rules for Safe Play</p>
    </div>
    <div id="playground-rules" class="grid grid-cols-1 sm:grid-cols-2 gap-6"></div>
</section>
{% endblock %}

{% block scripts %}
<script>
    function renderPlaygroundRules() {
        var container = document.getElementById('playground-rules');
        if (!container) return;
        var rules = t('playground_rules');
        if (!Array.isArray(rules)) return;

        container.innerHTML = rules.map(function(rule) {
            return '<div class="flex items-start gap-3 p-4 rounded-xl bg-slate-50 border border-slate-200">' +
                '<div class="text-3xl">' + rule.icon + '</div>' +
                '<div>' +
                    '<h3 class="font-semibold text-slate-800 text-md leading-snug">' + escapeHtml(rule.title) + '</h3>' +
                    '<p class="text-sm text-slate-600 leading-tight">' + escapeHtml(rule.desc) + '</p>' +
                '</div>' +
            '</div>';
        }).join('');
    }

    function escapeHtml(str) {
        var div = document.createElement('div');
        div.textContent = str;
        return div.innerHTML;
    }

    document.addEventListener('DOMContentLoaded', function() {
        renderPlaygroundRules();
    });

    window.addEventListener('languageChanged', function() {
        renderPlaygroundRules();
    });
</script>
{% endblock %}
